---
import BaseLayout from '../../layouts/BaseLayout.astro';
import SideMenu from '../../components/SideMenu.astro';

const chapterMetaFiles = import.meta.glob('../posts/python/*/meta.json', { eager: true });

const chapters = Object.entries(chapterMetaFiles)
  .map(([path, mod]) => {
    const meta = (mod as any).default ?? mod;
    const folder = path.split('/').at(-2);

    return {
      folder,
      title: meta.title,
      order: Number(meta.order) || 0,
      posts: []
    };
  })
  .sort((a, b) => a.order - b.order);

const postFiles = import.meta.glob('../posts/python/**/*.md', { eager: true });

for (const [path, raw] of Object.entries(postFiles)) {
  const mod = raw as any;
  const chapterName = path.split('/').at(-2);

  const chapter = chapters.find(c => c.folder === chapterName);
  if (!chapter) continue;

  chapter.posts.push({
    url: mod.url,
    title: mod.frontmatter.title
  });
}
---

<BaseLayout pageTitle="Python">
  <div slot="left">
    <SideMenu chapters={chapters} />
  </div>
  <h2>О разделе</h2>
  <p>Данный раздел посвящен языку программирования Python и всем сопутствующим технологиям. Python на сегодняшний день является одним из самых популярным языком программирования. Он широко используется в разработке. Одной из популярных сфер применения Python является разработка веб-сайтов и веб-приложений, в частности, с помощью фреймворка Django. Другой распространенной сферой является машинное обучение, а также различные программы, связанные с искуственным интеллектом. Но также с помощью Python можно создавать и другие приложения, например, различные десктопные консольные и графические программы и даже мобильные приложения. Нередко данный язык также применяется для написания кастомных сценариев в рамках других программ.</p>
  <p>Python представляет интепретируей язык, он будет работать везде, где установлен интерпретатор. Фактически он является универсальным кроссплатформенным языком, поэтому приложения на Python будут работать на большинстве известных платформ как Windows, Linux, MacOS.</p>
</BaseLayout>